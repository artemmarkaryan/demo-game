# demo-game
University project aimed to create a game using as many patterns as possible

## Task
Создать игру на основе боя двух "стеков" юнитов.


Юниты:

 - Пехотинец (легкий юнит, небольшая атака и защита, низкая цена, клонируется, лечится). Спецдействие - умеют надевать дополнительные апы на рыцарей (шлем, щит, пика, конь), если рыцарь рядом.

 - Лучник (легкий юнит, небольшая атака и защита, цена средняя, клонируется, лечится). Спецдействие - умеют стрелять из лука (сила средняя) на определенную дальность.

 - Маг (легкий юнит, средняя атака и защита, цена высокая, не клонируется, не лечится). Спецдействие - умеют клонировать юнитов, которые стоят рядом с ними.

 - Целитель (легкий юнит, небольшая атака и защита, цена высокая, не клонируется, лечится). Спецдействие - умеют лечить юнитов, стоящих рядом.

 - Рыцарь (тяжелый юнит,  большая атака и защита, цена высокая, не клонируется, лечится). Спецдействий нет. На юнит могут быть надеты апы, увеличивающие его силу или защиту. Апы могут быть уничтожены с определенной вероятностью от ударов противника. Апы могут быть надеты только один раз (например, нельзя надеть два щита). Но, если ап уничтожен, он может быть надет повторно.

 - Перекати-поле (тяжелый юнит, нулевая атака и очень большая защита, цена очень высокая, не клонируется, не лечится). Спецдействий нет. Юнит дается в виде внешней библиотеки и должен быть внедрен в вашу программу.


Игра происходит следующим образом: сначала создаются армии на некоторую "сумму". Одну или обе можно создать автоматически. Далее, в программе можно будет сделать один ход, или доиграть игру до конца. Ходы можно отменять и возвращать (UNDO REDO).


Ход состоит из последовательности действий:

 - сначала рандомно выбирается сторона. Юнит этой стороны, стоящий "во главе" колонны, бьет юнита второй стороны, стоящей во-главе колонны.

 - если юнит второй стороны остается жив, он в ответ ударяет унита первой стороны. Если юнит второй стороны умер - то действий нет.

 - далее, начиная со второго "ряда", последовательно и рандомно вызывается спецдействие для каждого юнита. Спецдействие срабатывает не 100%, а с некоторой вероятностью. Т.е., например, Маг может склонировать юнита с вероятностью 10%.

 - после того, как выполнены все спецдействия, с поля "убираются" все уничтоженные юниты и ход считается завершенным.


Предусмотреть в игре возможность играть в формации:

 - колонна по одному на колонну по одному

 - колонна по трое на колонну по трое

 - стенка на стенку

Во всех формациях спецдействие может сработать только для юнитов, перед которыми не было войск противника в начале хода.


Все юниты наследуются от интерфейса IUnit, определяющего общие свойства: Id, Name, HitPoints, Attack, Defence, Cost;


Требуется задействовать в игре максимальное количество паттернов. При этом, применение паттернов должно быть оправдано.
